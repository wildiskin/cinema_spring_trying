drop table movie;
drop table director;
drop table book;

create table book (
                      id int generated by default as identity primary key ,
                      name varchar(50) not null,
                      author varchar(50),
                      genre varchar(50)
);
create table director (
                          id int generated by default as identity primary key ,
                          name varchar(50) unique not null
);
create table movie (
                       id int generated by default as identity primary key ,
                       name varchar(50) not null,
                       year int,
                       description varchar(150),
                       director_id int references director(id) on delete set null,
                       source_book_id int UNIQUE references book(id) on delete set null
)
ex of dynamic query
@Query("SELECT u FROM User u WHERE u.status = ?1")
User findUserByStatus(Integer status);

@Query("SELECT u FROM User u WHERE u.status = ?1 and u.name = ?2")
User findUserByStatusAndName(Integer status, String name);
